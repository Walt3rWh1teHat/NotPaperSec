# Base VDS setup on Windows remote RDP(Удаленного рабочего стола) 

> [!NOTE]
> Я постарался сформировать максимально функциональный, двухэтапный скрипт, для быстрой базовой автоматической настройки чистого VDS на Windows.
> То есть Удаленного рабочего стола RDP. 


---

# Наполнение скрипта

- **Этап 1 (безопасный, основной)** — выполняет всё, что не может «отрезать» тебе доступ: обновления, Defender, отключение телеметрии, создание нового админа и т.п.
    
- **Этап 2 (усиление защиты)** — отдельная команда, которую ты запускаешь вручную, когда уже проверил, что вход под новым аккаунтом работает. Здесь меняется RDP-порт и настраивается брандмауэр.
  
## Функциональность

- обновляет систему и включает защиту;
    
- отключает телеметрию/ненужные службы;
    
- создаёт безопасного администратора;
    
- закрывает старые и небезопасные протоколы (SMBv1, TLS 1.0/1.1);
    
- включает DNS-over-HTTPS (в Windows это глобальная настройка, она только улучшает приватность, но не ломает VPN/Тор);
    
- меняет порт RDP и добавляет firewall-правило **только для входящих соединений** (чтобы атакерам сложнее было попасть в твой workspace).
  

---

# Инструкция к использованию

1. Подключись по RDP на стандартный порт (3389).
    
2. Сохрани скрипт как `setup-vds.ps1`.
    
3. Запусти в PowerShell **от имени администратора**:
    
    `Set-ExecutionPolicy RemoteSigned -Force .\setup-vds.ps1`
    
    → это выполнит **Этап 1** (безопасный).
    
4. Выйди и зайди под новым пользователем `secadmin`. Убедись, что всё работает.
    
5. Запусти **Этап 2**:
    
    `.\setup-vds.ps1 -Stage2`
    
    → скрипт сменит порт RDP и настроит firewall.
    
6. Запиши новый порт (будет показан в выводе). Перезагрузи сервер и подключайся так:
    
    `mstsc /v:IP:порт`

## *Готово! Теперь можно работать дальше, устанавливать нужные инструменты. Скрипт никак не мешает работе Tor, Tor service, VPN, Proxy и мессенджерам.* 